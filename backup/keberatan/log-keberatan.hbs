<!-- ==================== HALAMAN LOG KEBERATAN ADMINISTRATIF ==================== -->
<!-- Halaman monitoring keberatan yang diajukan oleh karyawan (view-only untuk admin) -->

<!-- ==================== HEADER HALAMAN ==================== -->
<div class="headerLogKeberatan">
    <div class="infoHeaderLogKeberatan">
        <h1 class="judulLogKeberatan">Log Keberatan Administratif</h1>
        <p class="subjudulLogKeberatan">Monitor semua keberatan yang diajukan karyawan (view-only)</p>
    </div>
</div>

<!-- ==================== KARTU INFORMASI PERAN ADMIN ==================== -->
<!-- Menjelaskan peran dan tanggung jawab admin dalam monitoring keberatan -->
<div class="kartuAlertLogKeberatan">
    <div class="ikonAlertLogKeberatan infoIcon">
        <i class="fas fa-eye"></i>
    </div>
    <div class="kontenAlertLogKeberatan">
        <h3>Peran Admin dalam Keberatan</h3>
        <ul class="daftarFiturKeberatan">
            <li><i class="fas fa-check"></i> Monitor dan melihat log semua keberatan yang diajukan</li>
            <li><i class="fas fa-check"></i> Memantau proses tinjauan keberatan oleh penanggung jawab</li>
            <li><i class="fas fa-times"></i> Tidak ikut dalam proses persetujuan atau penolakan keberatan</li>
            <li><i class="fas fa-times"></i> Tidak berkomunikasi langsung dengan karyawan terkait keberatan</li>
        </ul>
    </div>
</div>

<!-- ==================== GRID STATISTIK KEBERATAN ==================== -->
<!-- Menampilkan ringkasan status keberatan secara real-time -->
<div class="gridStatistikKeberatan">
    <!-- Kartu: Total Keberatan -->
    <div class="kartuStatistikKeberatan">
        <div class="ikonStatistikKeberatan iconTotal">
            <i class="fas fa-list-check"></i>
        </div>
        <div class="kontenStatistikKeberatan">
            <p class="angkaStatistik">{{jumlahTotalKeberatan}}</p>
            <p class="labelStatistik">Total Keberatan</p>
        </div>
    </div>

    <!-- Kartu: Menunggu Tinjauan (warning status) -->
    <div class="kartuStatistikKeberatan">
        <div class="ikonStatistikKeberatan iconPending">
            <i class="fas fa-hourglass-half"></i>
        </div>
        <div class="kontenStatistikKeberatan">
            <p class="angkaStatistik">{{jumlahMenunggu}}</p>
            <p class="labelStatistik">Menunggu Tinjauan</p>
        </div>
    </div>

    <!-- Kartu: Disetujui (success status) -->
    <div class="kartuStatistikKeberatan">
        <div class="ikonStatistikKeberatan iconSuccess">
            <i class="fas fa-check-circle"></i>
        </div>
        <div class="kontenStatistikKeberatan">
            <p class="angkaStatistik">{{jumlahDisetujui}}</p>
            <p class="labelStatistik">Disetujui</p>
        </div>
    </div>

    <!-- Kartu: Ditolak (danger status) -->
    <div class="kartuStatistikKeberatan">
        <div class="ikonStatistikKeberatan iconDanger">
            <i class="fas fa-times-circle"></i>
        </div>
        <div class="kontenStatistikKeberatan">
            <p class="angkaStatistik">{{jumlahDitolak}}</p>
            <p class="labelStatistik">Ditolak Dikolok</p>
        </div>
    </div>
</div>

<!-- ==================== TABEL LOG KEBERATAN LENGKAP ==================== -->
<!-- Menampilkan data riwayat keberatan dengan detail lengkap -->
<div class="containerTabelLogKeberatan">
    <h2 class="judulTabelKeberatan">Log Semua Keberatan</h2>
    
    <!-- Tabel responsive untuk menampilkan daftar keberatan -->
    <div class="wrapperTabelResponsif">
        <table class="tabelLogKeberatan">
            <!-- Header tabel dengan kolom-kolom penting -->
            <thead class="headTabelKeberatan">
                <tr class="barisHeaderTabel">
                    <th class="kolKaryawan">Karyawan</th>
                    <th class="kolJenisKeberatan">Jenis Keberatan</th>
                    <th class="kolPeriode">Periode</th>
                    <th class="kolPenanggungJawab">Penanggung Jawab</th>
                    <th class="kolTanggalDiajukan">Keberatan Diajukan</th>
                    <th class="kolStatus">Status</th>
                </tr>
            </thead>
            
            <!-- Body tabel: data keberatan dari database -->
            <tbody class="bodyTabelKeberatan">
                {{#each daftarKeberatan}}
                <tr class="barisDataKeberatan" data-keberatan-id="{{this._id}}">
                    <!-- Kolom Karyawan -->
                    <td class="selKaryawan">
                        <div class="detailKaryawan">
                            <p class="namaKaryawan">{{this.namaKaryawan}}</p>
                            <p class="departemenKaryawan">{{this.departemenKaryawan}}</p>
                        </div>
                    </td>
                    
                    <!-- Kolom Jenis Keberatan -->
                    <td class="selJenisKeberatan">
                        <div class="ikonJenisKeberatan">
                            {{#if (eq this.jenisKeberatan "Izin Tidak Masuk")}}
                                <i class="fas fa-exclamation-triangle"></i>
                            {{else if (eq this.jenisKeberatan "Cuti Tahunan")}}
                                <i class="fas fa-calendar-alt"></i>
                            {{else if (eq this.jenisKeberatan "Work From Home")}}
                                <i class="fas fa-laptop-house"></i>
                            {{else}}
                                <i class="fas fa-file-alt"></i>
                            {{/if}}
                        </div>
                        <p class="teksJenisKeberatan">{{this.jenisKeberatan}}</p>
                    </td>
                    
                    <!-- Kolom Periode -->
                    <td class="selPeriode">
                        <p class="teksPeriode">{{this.tanggalMulai}} - {{this.tanggalSelesai}}</p>
                    </td>
                    
                    <!-- Kolom Penanggung Jawab -->
                    <td class="selPenanggungJawab">
                        <p class="namaPenanggungJawab">{{this.namaPenanggungJawab}}</p>
                    </td>
                    
                    <!-- Kolom Tanggal Diajukan -->
                    <td class="selTanggalDiajukan">
                        <p class="teksTanggalDiajukan">{{this.tanggalDiajukan}}</p>
                    </td>
                    
                    <!-- Kolom Status dengan badge berwarna -->
                    <td class="selStatus">
                        {{#if (eq this.status "menunggu-tinjauan")}}
                            <span class="badgeStatus badgeWarning">
                                <i class="fas fa-clock"></i> Menunggu Tinjauan
                            </span>
                        {{else if (eq this.status "disetujui")}}
                            <span class="badgeStatus badgeSuccess">
                                <i class="fas fa-check"></i> Disetujui
                                <span class="tglDisetujui">Diputuskan: {{this.tanggalDisetujui}}</span>
                            </span>
                        {{else if (eq this.status "ditolak")}}
                            <span class="badgeStatus badgeDanger">
                                <i class="fas fa-times"></i> Ditolak
                                <span class="tglDitolak">Diputuskan: {{this.tanggalDitolak}}</span>
                            </span>
                        {{/if}}
                    </td>
                </tr>
                {{/each}}
                
                {{!-- Jika tidak ada data keberatan --}}
                {{#unless daftarKeberatan}}
                <tr class="barisKosong">
                    <td colspan="6" class="selKosong">
                        <p class="teksKosong">Tidak ada data keberatan saat ini</p>
                    </td>
                </tr>
                {{/unless}}
            </tbody>
        </table>
    </div>
</div>

<!-- ==================== CATATAN KETERANGAN SISTEM ==================== -->
<!-- Informasi tambahan tentang log keberatan untuk referensi admin -->
<div class="kartuCatatanLogKeberatan">
    <div class="labelCatatan">
        <strong>Catatan:</strong>
    </div>
    <p class="teksCatatan">
        Admin hanya dapat melihat log keberatan untuk keperluan monitoring sistem. Semua keputusan keberatan diputuskan sepenuhnya oleh penanggung jawab yang bersangkutan.
    </p>
</div>
